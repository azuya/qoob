!function(a){"use strict";function b(b){var c=this;if(!(b.driver instanceof Object))throw new Error("Driver parameter mast be set!");this.options=b,this.options.qoobUrl=this.options.qoobUrl||("file:"!=window.location.protocol?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/":"")+"qoob/",this.options.qoobUrl=this.options.qoobUrl+(-1!==this.options.qoobUrl.indexOf("/",this.options.qoobUrl.length-"/".length)?"":"/");var d=this.options.qoobUrl+"loader.min.js",e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",d),e.onload=function(){b.driver.loadLibrariesData(function(b,d){if(b)return void console.error("Libraries have been not loaded from driver "+c.options.driver.constructor.name+"."+b);if(void 0===d)return void console.error("Libraries have been not loaded from driver "+c.options.driver.constructor.name+". Check 'loadLibrariesData' method.");window.loader=new Loader,window.loader.once("complete",function(){try{window.parent.frames["qoob-iframe"]&&(a("#qoob-blocks").empty(),window.parent.jQuery("#qoob-iframe").trigger("libraries_loaded"))}catch(a){}a.holdReady(!1)});for(var e=0;e<d.length;e++){var f=d[e].url.replace(/\/+$/g,"")+"/";if(d[e].res)for(var g=d[e].res,h=0;h<g.length;h++)0!==g[h].src.indexOf("http://")&&0!==g[h].src.indexOf("https://")&&(g[h].src=f+g[h].src.replace(/^\/+/g,"")),window.loader.add(g[h])}window.loader.start()})},e.onerror=function(){console.log("Can't load loader.js file at "+c.options.qoobUrl)},document.head.appendChild(e)}a.holdReady(!0),window.QoobStarter=b}(jQuery);