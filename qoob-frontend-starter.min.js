!function(a){"use strict";function b(b){if(!(b.driver instanceof Object))throw new Error("Driver parameter mast be set!");this.options=b,this.options.qoobUrl=this.options.qoobUrl||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/qoob/qoob/",this.options.qoobUrl=this.options.qoobUrl+(this.options.qoobUrl.indexOf("/",this.options.qoobUrl.length-"/".length)!==-1?"":"/");var c=this.options.qoobUrl+"loader.min.js",d=document.createElement("script");d.setAttribute("type","text/javascript"),d.setAttribute("src",c),d.onload=function(){b.driver.loadLibrariesData(function(b,c){window.loader=new Loader,window.loader.once("complete",function(){window.parent.frames["qoob-iframe"]&&(a("#qoob-blocks").empty(),window.parent.$("#qoob-iframe").trigger("libraries_loaded")),a.holdReady(!1)});for(var d in c){var e=c[d].url.replace(/\/+$/g,"")+"/";if(c[d].res)for(var f=c[d].res,g=0;g<f.length;g++)0!==f[g].src.indexOf("http://")&&0!==f[g].src.indexOf("https://")&&(f[g].src=e+f[g].src.replace(/^\/+/g,"")),window.loader.add(f[g])}window.loader.start()})},d.onerror=function(){console.log("Can't load loader.js file")},document.head.appendChild(d)}a.holdReady(!0),window.QoobStarter=b}(jQuery);